# Overrides for local k3d development
# Image repository and tag are set via Makefile --set flags
service:
  type: LoadBalancer
  port: 80
  targetPort: 8080

# Leverage k3d's built-in Traefik ingress, mapped to localhost:8080 via dev/clusterconfig.yaml
ingress:
  enabled: true
  className: traefik
  hosts:
    - host: localhost
      paths:
        - path: /
          pathType: Prefix
  tls: []

# Use an existing Secret to supply sensitive env (e.g., GIT_TOKEN, optional API key)
# Create this secret before install:
#   kubectl -n default create secret generic gostwriter-secrets --from-literal=GIT_TOKEN=... [--from-literal=GOSTWRITER_API_KEY=...]
existingSecret: "gostwriter-secrets"

# Ensure the token env var placeholder used in the rendered config matches your secret key
target:
  auth:
    tokenVarName: "GIT_TOKEN"